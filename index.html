<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Editor - VSCode Style</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e1e;
            color: #cccccc;
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #252526;
            border-right: 1px solid #3c3c3c;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 10px;
            background-color: #2d2d30;
            border-bottom: 1px solid #3c3c3c;
            font-weight: bold;
            font-size: 14px;
        }

        .file-explorer {
            flex: 1;
            padding: 10px;
        }

        .file-item {
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-bottom: 2px;
            font-size: 13px;
        }

        .file-item:hover {
            background-color: #2a2d2e;
        }

        .file-item.active {
            background-color: #094771;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .tab-bar {
            background-color: #2d2d30;
            border-bottom: 1px solid #3c3c3c;
            display: flex;
            align-items: center;
            min-height: 35px;
        }

        .tab {
            padding: 8px 16px;
            background-color: #2d2d30;
            border-right: 1px solid #3c3c3c;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab.active {
            background-color: #1e1e1e;
            border-bottom: 2px solid #007acc;
        }

        .tab-close {
            cursor: pointer;
            opacity: 0.6;
        }

        .tab-close:hover {
            opacity: 1;
        }

        .editor-container {
            flex: 1;
            position: relative;
        }

        #editor {
            width: 100%;
            height: 100%;
        }

        .status-bar {
            background-color: #007acc;
            color: white;
            padding: 4px 10px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toolbar {
            background-color: #2d2d30;
            border-bottom: 1px solid #3c3c3c;
            padding: 8px 10px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            background-color: #0e639c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .btn:hover {
            background-color: #1177bb;
        }

        .btn-secondary {
            background-color: #3c3c3c;
        }

        .btn-secondary:hover {
            background-color: #4c4c4c;
        }

        .prompt-templates {
            margin-top: 20px;
        }

        .template-item {
            padding: 8px 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-bottom: 2px;
            font-size: 12px;
            color: #9cdcfe;
        }

        .template-item:hover {
            background-color: #2a2d2e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                ğŸ“ Prompt Editor
            </div>
            <div class="file-explorer">
                <div class="file-item active" onclick="openFile('new-prompt.txt')">
                    ğŸ“„ new-prompt.txt
                </div>
                <div class="file-item" onclick="openFile('system-prompt.txt')">
                    âš™ï¸ system-prompt.txt
                </div>
                <div class="file-item" onclick="openFile('user-prompt.txt')">
                    ğŸ‘¤ user-prompt.txt
                </div>
                
                <div class="prompt-templates">
                    <div style="font-weight: bold; margin-bottom: 10px; font-size: 12px; color: #cccccc;">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</div>
                    <div class="template-item" onclick="loadTemplate('coding')">
                        ğŸ’» ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¯æ´
                    </div>
                    <div class="template-item" onclick="loadTemplate('analysis')">
                        ğŸ“Š ãƒ‡ãƒ¼ã‚¿åˆ†æ
                    </div>
                    <div class="template-item" onclick="loadTemplate('creative')">
                        ğŸ¨ å‰µä½œæ”¯æ´
                    </div>
                    <div class="template-item" onclick="loadTemplate('translation')">
                        ğŸŒ ç¿»è¨³
                    </div>
                    <div class="template-item" onclick="loadTemplate('explanation')">
                        ğŸ“š èª¬æ˜ãƒ»è§£èª¬
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="tab-bar">
                <div class="tab active">
                    <span>ğŸ“„</span>
                    <span id="current-tab-name">new-prompt.txt</span>
                    <span class="tab-close">Ã—</span>
                </div>
            </div>
            
            <div class="toolbar">
                <button class="btn" onclick="savePrompt()">ğŸ’¾ ä¿å­˜</button>
                <button class="btn btn-secondary" onclick="copyPrompt()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <button class="btn btn-secondary" onclick="clearEditor()">ğŸ—‘ï¸ ã‚¯ãƒªã‚¢</button>
                <button class="btn btn-secondary" onclick="toggleWordWrap()">ğŸ“ æŠ˜ã‚Šè¿”ã—</button>
                <span style="margin-left: auto; font-size: 12px;">
                    æ–‡å­—æ•°: <span id="char-count">0</span>
                </span>
            </div>
            
            <div class="editor-container">
                <div id="editor"></div>
            </div>
            
            <div class="status-bar">
                <span>Ready</span>
                <span>UTF-8 | LF | Plain Text</span>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/monaco-editor@0.44.0/min/vs/loader.js"></script>
    <script>
        let editor;
        let currentFile = 'new-prompt.txt';
        let files = {
            'new-prompt.txt': '',
            'system-prompt.txt': '',
            'user-prompt.txt': ''
        };

        // Monaco Editorã®åˆæœŸåŒ–
        require.config({ paths: { vs: 'https://unpkg.com/monaco-editor@0.44.0/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            editor = monaco.editor.create(document.getElementById('editor'), {
                value: '',
                language: 'plaintext',
                theme: 'vs-dark',
                fontSize: 14,
                lineNumbers: 'on',
                wordWrap: 'on',
                minimap: { enabled: true },
                scrollBeyondLastLine: false,
                automaticLayout: true,
                tabSize: 2,
                insertSpaces: true
            });

            // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆã®æ›´æ–°
            editor.onDidChangeModelContent(() => {
                updateCharCount();
                updateStatus('ç·¨é›†ä¸­...');
            });

            updateCharCount();
        });

        function updateCharCount() {
            if (editor) {
                const content = editor.getValue();
                document.getElementById('char-count').textContent = content.length;
            }
        }

        function updateStatus(message) {
            document.querySelector('.status-bar span').textContent = message;
            setTimeout(() => {
                document.querySelector('.status-bar span').textContent = 'Ready';
            }, 2000);
        }

        function openFile(filename) {
            // ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ä¿å­˜
            if (editor && currentFile) {
                files[currentFile] = editor.getValue();
            }

            // æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
            currentFile = filename;
            if (editor) {
                editor.setValue(files[filename] || '');
            }

            // UIã®æ›´æ–°
            document.getElementById('current-tab-name').textContent = filename;
            document.querySelectorAll('.file-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            updateStatus(`${filename} ã‚’é–‹ãã¾ã—ãŸ`);
        }

        function savePrompt() {
            if (editor) {
                files[currentFile] = editor.getValue();
                const content = editor.getValue();
                
                // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
                localStorage.setItem(`prompt_${currentFile}`, content);
                
                // ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = currentFile;
                a.click();
                URL.revokeObjectURL(url);
                
                updateStatus('ä¿å­˜ã—ã¾ã—ãŸ');
            }
        }

        function copyPrompt() {
            if (editor) {
                const content = editor.getValue();
                navigator.clipboard.writeText(content).then(() => {
                    updateStatus('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                });
            }
        }

        function clearEditor() {
            if (editor && confirm('å†…å®¹ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã‹ï¼Ÿ')) {
                editor.setValue('');
                updateStatus('å†…å®¹ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
            }
        }

        function toggleWordWrap() {
            if (editor) {
                const currentWrap = editor.getOption(monaco.editor.EditorOption.wordWrap);
                const newWrap = currentWrap === 'on' ? 'off' : 'on';
                editor.updateOptions({ wordWrap: newWrap });
                updateStatus(`æŠ˜ã‚Šè¿”ã—: ${newWrap === 'on' ? 'ON' : 'OFF'}`);
            }
        }

        function loadTemplate(type) {
            const templates = {
                coding: `# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¯æ´ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã™ã€‚ä»¥ä¸‹ã®è¦ä»¶ã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

## è¦ä»¶
- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª: [è¨€èªã‚’æŒ‡å®š]
- æ©Ÿèƒ½: [å®Ÿè£…ã—ãŸã„æ©Ÿèƒ½ã‚’è¨˜è¿°]
- åˆ¶ç´„æ¡ä»¶: [åˆ¶ç´„ãŒã‚ã‚Œã°è¨˜è¿°]

## æœŸå¾…ã™ã‚‹å‡ºåŠ›
- å‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰
- ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã®èª¬æ˜
- ä½¿ç”¨ä¾‹

## è¿½åŠ è¦æ±‚
[ãã®ä»–ã®è¦æ±‚ãŒã‚ã‚Œã°è¨˜è¿°]`,

                analysis: `# ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ã‚ãªãŸã¯ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆã§ã™ã€‚ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã¦ãã ã•ã„ã€‚

## ãƒ‡ãƒ¼ã‚¿ã®æ¦‚è¦
- ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: [ãƒ‡ãƒ¼ã‚¿ã®å‡ºå…¸]
- ãƒ‡ãƒ¼ã‚¿å½¢å¼: [CSV, JSON, etc.]
- ãƒ‡ãƒ¼ã‚¿æœŸé–“: [åˆ†æå¯¾è±¡æœŸé–“]

## åˆ†æç›®çš„
[ä½•ã‚’æ˜ã‚‰ã‹ã«ã—ãŸã„ã‹è¨˜è¿°]

## æœŸå¾…ã™ã‚‹åˆ†æå†…å®¹
- åŸºæœ¬çµ±è¨ˆé‡
- ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–
- å‚¾å‘åˆ†æ
- æ´å¯Ÿã¨ææ¡ˆ

## å‡ºåŠ›å½¢å¼
[ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã€ã‚°ãƒ©ãƒ•ã€è¡¨ãªã©å¸Œæœ›ã™ã‚‹å½¢å¼]`,

                creative: `# å‰µä½œæ”¯æ´ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ã‚ãªãŸã¯å‰µé€ æ€§è±Šã‹ãªãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒã§å‰µä½œã—ã¦ãã ã•ã„ã€‚

## ãƒ†ãƒ¼ãƒãƒ»ã‚¸ãƒ£ãƒ³ãƒ«
[å°èª¬ã€è©©ã€è„šæœ¬ã€è¨˜äº‹ãªã©]

## è¨­å®šãƒ»æ¡ä»¶
- æ–‡å­—æ•°: [ç›®å®‰ã®æ–‡å­—æ•°]
- ãƒˆãƒ¼ãƒ³: [æ˜ã‚‹ã„ã€ã‚·ãƒªã‚¢ã‚¹ã€ãƒ¦ãƒ¼ãƒ¢ãƒ©ã‚¹ãªã©]
- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆèª­è€…: [æƒ³å®šèª­è€…å±¤]

## å†…å®¹ã®æ–¹å‘æ€§
[æ›¸ããŸã„å†…å®¹ã®æ¦‚è¦ã‚„æ–¹å‘æ€§]

## ç‰¹åˆ¥ãªè¦æ±‚
[ç‰¹å®šã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚ã‚‹ã€ç‰¹å®šã®æ§‹æˆã«ã™ã‚‹ãªã©]`,

                translation: `# ç¿»è¨³ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ä»¥ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚

## ç¿»è¨³è¨­å®š
- åŸæ–‡è¨€èª: [å…ƒã®è¨€èª]
- ç¿»è¨³å…ˆè¨€èª: [ç¿»è¨³ã—ãŸã„è¨€èª]
- ç¿»è¨³ã‚¹ã‚¿ã‚¤ãƒ«: [ãƒ•ã‚©ãƒ¼ãƒãƒ«ã€ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã€æŠ€è¡“æ–‡æ›¸ãªã©]

## åŸæ–‡
[ç¿»è¨³ã—ãŸã„ãƒ†ã‚­ã‚¹ãƒˆã‚’ã“ã“ã«è¨˜è¿°]

## ç¿»è¨³æ™‚ã®æ³¨æ„ç‚¹
- æ–‡è„ˆã‚’è€ƒæ…®ã—ãŸè‡ªç„¶ãªç¿»è¨³
- å°‚é–€ç”¨èªã®é©åˆ‡ãªå‡¦ç†
- æ–‡åŒ–çš„ãªé•ã„ã¸ã®é…æ…®

## æœŸå¾…ã™ã‚‹å‡ºåŠ›
- ç¿»è¨³æ–‡
- ç¿»è¨³ã®æ ¹æ‹ ã‚„æ³¨æ„ç‚¹ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰`,

                explanation: `# èª¬æ˜ãƒ»è§£èª¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

ä»¥ä¸‹ã®ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã—ã¦ãã ã•ã„ã€‚

## èª¬æ˜å¯¾è±¡
[èª¬æ˜ã—ãŸã„ãƒˆãƒ”ãƒƒã‚¯ãƒ»æ¦‚å¿µãƒ»æŠ€è¡“ãªã©]

## å¯¾è±¡èª­è€…
[åˆå¿ƒè€…ã€ä¸­ç´šè€…ã€å°‚é–€å®¶ãªã©]

## èª¬æ˜ã®æ·±ã•
[æ¦‚è¦ãƒ¬ãƒ™ãƒ«ã€è©³ç´°ãƒ¬ãƒ™ãƒ«ã€å°‚é–€ãƒ¬ãƒ™ãƒ«]

## èª¬æ˜å½¢å¼
- æ§‹é€ åŒ–ã•ã‚ŒãŸèª¬æ˜
- å…·ä½“ä¾‹ã‚’å«ã‚€
- å›³è¡¨ã®ææ¡ˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

## ç‰¹åˆ¥ãªè¦æ±‚
[ç‰¹å®šã®è¦³ç‚¹ã‹ã‚‰èª¬æ˜ã€æ¯”è¼ƒå¯¾è±¡ã€å®Ÿç”¨ä¾‹ãªã©]`
            };

            if (editor && templates[type]) {
                editor.setValue(templates[type]);
                updateStatus(`${type}ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ`);
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å¾©å…ƒ
        window.addEventListener('load', () => {
            setTimeout(() => {
                Object.keys(files).forEach(filename => {
                    const saved = localStorage.getItem(`prompt_${filename}`);
                    if (saved) {
                        files[filename] = saved;
                    }
                });
                
                if (editor && files[currentFile]) {
                    editor.setValue(files[currentFile]);
                }
            }, 1000);
        });

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case 's':
                        e.preventDefault();
                        savePrompt();
                        break;
                    case 'c':
                        if (e.shiftKey) {
                            e.preventDefault();
                            copyPrompt();
                        }
                        break;
                }
            }
        });
    </script>
</body>
</html>
